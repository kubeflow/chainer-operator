# This file configures the workflows to trigger in our Prow jobs.
# see kubeflow/testing/py/run_e2e_workflow.py
workflows:
  - app_dir: kubeflow/chainer-operator/test/workflows
    # we must set very short names for avoiding the error
    #    metadata.labels: Invalid value: "kubeflow-chainer-operator-presubmit-_name_-_comp_-26-d9c5b1d-77-7da5": must be no more than 63 characters
    component: e2e
    name: e2e
    job_types:
      - presubmit
  # checking "release" component does work
  - app_dir: kubeflow/chainer-operator/test/workflows
    # we must set very short names for avoiding the error
    #    metadata.labels: Invalid value: "kubeflow-chainer-operator-presubmit-_name_-_comp_-26-d9c5b1d-77-7da5": must be no more than 63 characters
    component: rl
    name: rl
    job_types:
      - presubmit
      # The postsubmit run publishes the docker images to gcr.io/kubeflow-images-public      
    params:
      registry: "gcr.io/kubeflow-ci"
  - app_dir: kubeflow/hainer-operator/test/workflows
    # we must set very short names so that length will be shorter than 64
    #    metadata.labels: Invalid value: "kubeflow-chainer-operator-presubmit-_name_-_comp_-26-d9c5b1d-77-7da5": must be no more than 63 characters
    component: rl
    name: rl
    job_types:      
      - postsubmit
    params:
      registry: "gcr.io/kubeflow-images-public" 
